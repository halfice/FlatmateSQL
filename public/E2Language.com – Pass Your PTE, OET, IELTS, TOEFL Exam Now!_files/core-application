function clickIfExists(n){$(n).length>0?$(n).click():window.setTimeout(function(){clickIfExists(n)},100)}var Helper,FormCreate,FormEdit,FormView,Sidebar,Topbar;(function(n,t){"use strict";var i=function(n,t){this.Element=n;this.Namespace=t};i.prototype={constructor:i,Register:function(){if(this.Namespace===""){console.error("Namespace Empty");return}if(!t[this.Namespace]){console.error("Javascript file for the loaded page ("+this.Namespace+") has not been created yet");return}var n=new t[this.Namespace](this.Element);n.Register()},RegisterWithCaller:function(n){if(this.Namespace===""){console.error("Namespace Empty");return}if(!t[this.Namespace]){console.error("Javascript file for the loaded page ("+this.Namespace+") has not been created yet");return}var i=new t[this.Namespace](this.Element);typeof i.Register=="function"&&(i.SetupCaller(n),i.Register())}};t.Application=i})(jQuery,window);Helper=function(){};Helper.prototype={constructor:Helper,CreateNameSpaceFromURL:function(n){var i=n.split("?"),t=i[0].split("/");return t.splice(0,1),t.length===2&&t.push("Index"),t.join("")}};FormCreate=function(n){this.Element=n;this.Caller=null;this.Grid=$("#gridMaintenance");this.MaintenanceForm=$("#maintenanceForm",n)};FormCreate.prototype={constructor:FormCreate,Register:function(){var n=this,t=n.MaintenanceForm;$("#createButton",n.Element).click(function(){submitForm("#"+n.MaintenanceForm.attr("id"),t.data("url"),function(i){showInformation(t.data("saved-message"));console.log(n.Grid);n.Grid.bootgrid("reload");closeMaintenanceWindow();n.Caller!==null&&typeof n.Caller.TriggerClickedLink=="function"&&n.Caller.TriggerClickedLink(i.Value)})});$("#cancelButton",n.Element).click(function(){$(n.Element).html("")})},SetupCaller:function(n){this.Caller=n}};FormEdit=function(n){this.Element=n;this.Caller=null;this.Grid=$("#gridMaintenance");this.MaintenanceForm=$("#maintenanceForm",n)};FormEdit.prototype={constructor:FormEdit,Register:function(){var n=this,t=n.MaintenanceForm;$("#saveButton",n.Element).click(function(){submitForm("#"+n.MaintenanceForm.attr("id"),t.data("edit-url"),function(i){showInformation(t.data("saved-message"));n.Grid.bootgrid("reload");closeMaintenanceWindow();n.Caller!==null&&typeof n.Caller.TriggerClickedLink=="function"&&n.Caller.TriggerClickedLink(i.Value)})});$("#deleteButton",n.Element).click(function(){var i=t.data("delete-url");i+="?id="+$("#Id").val();submitNonForm(t.data("delete-confirmation-message"),i,function(){showInformation(t.data("delete-message"));n.Grid.bootgrid("reload");closeMaintenanceWindow()})});$("#cancelButton",n.Element).click(function(){$(n.Element).html("")})},SetupCaller:function(n){this.Caller=n}};FormView=function(n){this.Element=n;this.Caller=null};FormView.prototype={constructor:FormEdit,Register:function(){var n=this;$("#deleteButton",n.Element).click(function(){var t=$("#maintenanceForm",n.Element).data("delete-url");t+="?id="+$("#Id").val();submitNonForm($("#maintenanceForm",n.Element).data("delete-confirmation-message"),t,function(){showInformation($("#maintenanceForm",n.Element).data("delete-message"));$("#gridMaintenance").bootgrid("reload");closeMaintenanceWindow()})});$("#cancelButton",n.Element).click(function(){$(n.Element).html("")})},SetupCaller:function(n){this.Caller=n}};Sidebar=function(n){this.Element=n};Sidebar.prototype={constructor:Sidebar,Register:function(){var n=this;$(".nav a",n.Element).on("click",function(){$(".nav a",n.Element).each(function(){$(this).removeClass("active");$(this).find("img").each(function(){var n=$(this).data("img");$(this).attr("src",n)});$(".popup-info-tooltip").hasClass("tooltipstered")&&$(".popup-info-tooltip").tooltipster("destroy")})});$("#side-menu a").hover(function(){$(this).hasClass("orange-highlight")||$(this).find("img").each(function(){var n=$(this).data("img-hover");$(this).attr("src",n)})},function(){$(this).hasClass("active")||$(this).find("img").each(function(){var n=$(this).data("img");$(this).attr("src",n)})});$(".nav-ajax-menu",n.Element).on("click",function(n){n.preventDefault();$(this).addClass("active");$(this).hasClass("orange-highlight")||$(this).find("img").each(function(){var n=$(this).data("img-hover");$(this).attr("src",n)});showLoadingDialog();var t=$(this).data("url");$.ajax({url:t,cache:!0,type:"GET",success:function(n){if(n.indexOf("UNAUTHORIZED")>=0)window.location.href="/Account/Login";else{$("#mainUserContent").html(n);hideLoadingDialog();var i=new Helper,r=i.CreateNameSpaceFromURL(t),u=new Application($("#mainUserContent"),r);u.Register()}}})})}};Topbar=function(n){this.Element=n};Topbar.prototype={constructor:Topbar,Register:function(){var n=this;$(".topbar-nav-ajax-menu",n.Element).on("click",function(n){n.preventDefault();var t=$(this).data("url");processApplicationContent(t,"GET",function(n){if(n.indexOf("UNAUTHORIZED")>=0)window.location.href="/Account/Login";else{$("#mainUserContent").html(n);var i=new Helper,r=i.CreateNameSpaceFromURL(t),u=new Application($("#mainUserContent"),r);u.Register()}})})}}